


<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title> / ReSharper  DevGuide</title>
    <link rel="stylesheet" href="/resharper/devguide/app/css/styles.min.css">
<link  rel="stylesheet" href="/resharper/devguide/styles/styles.css"></head>
<body data-id="Platform/Shell/Icons/IconTypes">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label for="search-box__input" class="search-box__label">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="Search ReSharper  DevGuide">
                    </label>
                    <div class="search-box__clear" title="Clear"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a href="mailto:feedback@jetbrains.com">Send feedback</a></p>
                <p>&copy; 2000&ndash;2015 <a href="//www.jetbrains.com">JetBrains</a> s.r.o.<br>
                    All rights reserved.</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>ReSharper DevGuide</h3>
                
        <div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1">
            <option data-group="primary" value="default" selected>Default</option>
            <option data-group="primary" value="default_for_gnome">GNOME</option>
            <option data-group="primary" value="default_for_kde">KDE</option>
            <option data-group="primary" value="default_for_xwin">XWindow</option>
            <option data-group="primary" value="emacs">Emacs</option>
            <option data-group="primary" value="jbuilder">JBuilder</option>
            <option data-group="primary" value="visual_studio">Visual Studio</option>
            <option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option>
            <option data-group="primary" value="eclipse">Eclipse</option>
            <option data-group="secondary" value="mac_os_x_10.5_">OS X 10.5+</option>
            <option data-group="secondary" value="mac_os_x">OS X</option>
            <option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option></select>
        </div>
    
                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">

                    
                    <a name="icon-types" class="elem-anchor"></a>
<h1>Icon Types<a href="#icon-types" class="anchor-link"><span></span></a></h1>

<p>The most common kind of <code class="code highlight language-text">IconId</code> is <code class="code highlight language-text">CompiledIconId</code>. This represents icons that have been compiled into an assembly’s resources. ReSharper also supports several other types of icons:</p>

<ul>
  <li><strong><code class="code highlight language-text">CompiledIconId</code></strong> represents icons that have been compiled into an assembly’s resources.</li>
  <li><strong><code class="code highlight language-text">ColorIconId</code></strong> represents an icon that is a solid colour.</li>
  <li><strong><code class="code highlight language-text">CompositeIconId</code></strong> is an icon that is composed of other <code class="code highlight language-text">IconId</code> icons.</li>
  <li><strong><code class="code highlight language-text">EffectOnIconId</code></strong> creates an icon based on another <code class="code highlight language-text">IconId</code>, applying alpha, made monochrome based on a tint colour, and/or with a blur radius.</li>
  <li><strong><code class="code highlight language-text">ShellFileIconId</code></strong> is a file type icon for a given extension.</li>
  <li><strong><code class="code highlight language-text">AnimatedIconId</code></strong> and <strong><code class="code highlight language-text">RotatedIconId</code></strong> represent icons that are animated.</li>
</ul>

<p>The icon types don’t apply theming, and when creating a new icon based on an existing icon, will create a WPF <code class="code highlight language-text">ImageSource</code> that uses the existing icon, meaning WPF will be responsible for scaling the base icon.</p>

<a name="color-icons" class="elem-anchor"></a>
<h2>Color icons<a href="#color-icons" class="anchor-link"><span></span></a></h2>

<p>An icon representing a solid colour can be defined by creating a new instance of <code class="code highlight language-text">ColorIconId</code> and passing in a <code class="code highlight language-text">Color</code>. The resulting icon will be a solid square of that colour.</p>

<pre><code class="code-block__wrapper code-block _highlighted lang_csharp"><span class="kt">var</span> <span class="n">iconId</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ColorIconId</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">);</span></code></pre>

<a name="composite-icons" class="elem-anchor"></a>
<h2>Composite icons<a href="#composite-icons" class="anchor-link"><span></span></a></h2>

<p>The <code class="code highlight language-text">CompositeIconId</code> will combine other icons into a single image, useful for applying overlays. To create a composite icon, call one of the static <code class="code highlight language-text">Compose</code> methods, passing in the <code class="code highlight language-text">IconId</code> of the icons to combine. The images are composed in left to right order. That is, the <code class="code highlight language-text">Compose</code> method’s leftmost argument being applied first, and subsequent arguments are applied on top.</p>

<pre><code class="code-block__wrapper code-block _highlighted lang_csharp"><span class="kt">var</span> <span class="n">iconId1</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ColorIconId</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">iconId2</span> <span class="p">=</span> <span class="n">ProjectModelThemedIcons</span><span class="p">.</span><span class="n">LayerSolutionShared</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">compositeIconId</span> <span class="p">=</span> <span class="n">CompositeIconId</span><span class="p">.</span><span class="n">Compose</span><span class="p">(</span><span class="n">iconId1</span><span class="p">,</span> <span class="n">iconId2</span><span class="p">);</span></code></pre>

<p>A more realistic example shows how to create an icon that represents a private method (although this is unlikely to be required in user code, as the PSI can provide this icon automatically for a given declared element):</p>

<pre><code class="code-block__wrapper code-block _highlighted lang_csharp"><span class="kt">var</span> <span class="n">iconId1</span> <span class="p">=</span> <span class="n">PsiSymbolsThemedIcons</span><span class="p">.</span><span class="n">Method</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">iconId2</span> <span class="p">=</span> <span class="n">PsiSymbolsThemedIcons</span><span class="p">.</span><span class="n">ModifiersPrivate</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">compositeIconId</span> <span class="p">=</span> <span class="n">CompositeIconId</span><span class="p">.</span><span class="n">Compose</span><span class="p">(</span><span class="n">iconId1</span><span class="p">,</span> <span class="n">iconId2</span><span class="p">);</span></code></pre>

<a name="applying-effects-to-icons" class="elem-anchor"></a>
<h2>Applying effects to icons<a href="#applying-effects-to-icons" class="anchor-link"><span></span></a></h2>

<p>The <code class="code highlight language-text">EffectOnIconId</code> creates a new <code class="code highlight language-text">IconId</code> based on an existing icon, but with various effects applied. The new icon can have an alpha opacity value applied, turn the icon monochrome, apply a blur radius, or any combination of the three. Alpha transparency is applied as a double value from 0 to 1, where 1 is no transparency and 0 is fully transparent. Applying the blur radius requires passing in a double value that represents the radius in WPF’s Device Independent Units (1/96 of an inch).</p>

<p>When making the icon monochrome, if the base icon is a WPF vector image, the brushes associated with the vector geometries are replaced with the given colour. When the base icon is a bitmap, the bitmap is rendered and the monochrome colour is applied.</p>

<pre><code class="code-block__wrapper code-block _highlighted lang_csharp"><span class="kt">var</span> <span class="n">baseIconId</span> <span class="p">=</span> <span class="n">ProjectModelThemedIcons</span><span class="p">.</span><span class="n">LayedSolutionShared</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
<span class="c1">// Apply a 0.7 opacity, convert to red and apply a radius blur with a radius of 5</span>
<span class="kt">var</span> <span class="n">iconId</span> <span class="p">=</span> <span class="k">new</span> <span class="n">EffectOnIconId</span><span class="p">(</span><span class="n">baseIconId</span><span class="p">,</span> <span class="m">0.7</span><span class="p">,</span> <span class="n">Color</span><span class="p">.</span><span class="n">Red</span><span class="p">,</span> <span class="m">5</span><span class="p">);</span></code></pre>

<aside class="note">
  <p> <code class="code highlight language-text">EffectOnIconId</code> is not intended to be used for theming. Icon types are responsible for their own theming, and should provide icons that are already theme aware. This icon type manipulates an existing icon, which will already be themed if it is appropriate to do so (e.g. <code class="code highlight language-text">ColorIconId</code> icons won’t be themed, and it’s not appropriate for them to be themed).</p>
</aside>

<a name="file-type-icons" class="elem-anchor"></a>
<h2>File type icons<a href="#file-type-icons" class="anchor-link"><span></span></a></h2>

<p>Icons for file types can be retrieved using the <code class="code highlight language-text">ShellFileIconId</code> class. These icon IDs ask the operating system for the icon to represent a given file extension (the dot should be included), at a given file size. The returned icon is also converted to monochrome, if the current theme is a monochrome theme (such as Visual Studio’s Light or Dark theme. The Blue theme is not, and the icon is not converted if this is the current theme).</p>

<pre><code class="code-block__wrapper code-block _highlighted lang_csharp"><span class="kt">var</span> <span class="n">smallIconId</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ShellFileIconId</span><span class="p">(</span><span class="s">&quot;.cs&quot;</span><span class="p">,</span> <span class="n">ShellFileIconId</span><span class="p">.</span><span class="n">IconSize</span><span class="p">.</span><span class="n">SmallIcon</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">largeIconId</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ShellFileIconId</span><span class="p">(</span><span class="s">&quot;.cs&quot;</span><span class="p">,</span> <span class="n">ShellFileIconId</span><span class="p">.</span><span class="n">IconSize</span><span class="p">.</span><span class="n">LargeIcon</span><span class="p">);</span></code></pre>

<p>Small icons are 16×16 and large icons are 32×32. Since the icons are raster images, they will not scale well, so try to use the appropriate size for the use case. Note that the resulting image does get created for the current DPI, so it will still display correctly in high DPI scenarios.</p>

<aside class="note">
  <p> This icon type will convert the icon to monochrome, depending on the current theme. It is up to the icon type to apply appropriate theming. Most other icon types do not need to do this, as they are either manipulating existing icons that are already themed, or because the icon they produce should be displayed as-is. The <code class="code highlight language-text">CompiledIconId</code> class will produce theme aware icons, by choosing between multiple sets of icons.</p>
</aside>

<a name="animated-icons" class="elem-anchor"></a>
<h2>Animated icons<a href="#animated-icons" class="anchor-link"><span></span></a></h2>

<p>The <code class="code highlight language-text">AnimatedIconId</code> and <code class="code highlight language-text">RotatedIconId</code> classes are used to get a static image for scenarios where animation is not supported. The <code class="code highlight language-text">AnimatedIconId</code> is simply a base class, and <code class="code highlight language-text">RotatedIconId</code> is used to identify and provide another <code class="code highlight language-text">IconId</code> as a static icon.</p>

<p>If a <code class="code highlight language-text">RotatedIconId</code> is added to a WPF UI using the <code class="code highlight language-text">ThemedIconViewImage</code> control (which can be used instead of the WPF <code class="code highlight language-text">Image</code> element), then the static image is continuously rotated by a WPF animation, specified in <code class="code highlight language-text">RotatedIconId.AnimatedRenderTransform</code>. This is how the animated icons in the unit test runner are rendered.</p>

<p>For Windows Forms, the individual frames of a rotated animation can be retrieved using <code class="code highlight language-text">RotatedIconId.GdipBitmapFrames.GetAnimationFrameGdipBitmap</code>. The <code class="code highlight language-text">PresentableItemRenderer</code> class makes use of this to render animation frames for <code class="code highlight language-text">IPresentableItem</code> objects that include frames.</p>

<p>Alternatively, animation can be achieved by creating icons for individual frames and updating an <code class="code highlight language-text">IProperty&lt;IconId&gt;</code> with each frame. Again, this can be used with <code class="code highlight language-text">ThemedIconViewImage</code>, which will display each frame as a static image, and update when the icon changes for each frame. This is how the solution wide analysis round icon in the status bar is handled.</p>

<pre><code class="code-block__wrapper code-block _highlighted lang_csharp"><span class="k">public</span> <span class="n">UIElement</span> <span class="nf">GetIconView</span><span class="p">(</span><span class="n">Lifetime</span> <span class="n">animationLifetime</span><span class="p">,</span> <span class="n">IProperty</span><span class="p">&lt;</span><span class="n">IconId</span><span class="p">&gt;</span> <span class="n">animatedIcon</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">var</span> <span class="n">image</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ThemedIconViewImage</span><span class="p">();</span>
  <span class="c1">// Bind the property&#39;s value to the ThemedIconViewImage&#39;s DataContextProperty</span>
  <span class="c1">// When the icon changes, the DataContextProperty is updated, and the image is redrawn</span>
  <span class="c1">// The Lifetime dictates when the property binding should be disposed</span>
  <span class="n">animatedIcon</span><span class="p">.</span><span class="n">FlowInto</span><span class="p">(</span><span class="n">animationLifetime</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">DataContextProperty</span><span class="p">);</span>
<span class="p">}</span></code></pre>


                    <div class="last-modified">
                        Last modified: 8 May 2015
                    </div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>


<script data-main="/resharper/devguide/app/js/main.build" data-baseurl="/resharper/devguide/" src="/resharper/devguide/app/js/vendor/requirejs/require.js"></script>

</body>
</html>

