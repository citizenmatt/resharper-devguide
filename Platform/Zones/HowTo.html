


<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title> / ReSharper  DevGuide</title>
    <link rel="stylesheet" href="/resharper-devguide/app/css/styles.min.css">
<link  rel="stylesheet" href="/resharper-devguide/styles/styles.css"></head>
<body data-id="Platform/Zones/HowTo">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label for="search-box__input" class="search-box__label">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="Search ReSharper  DevGuide">
                    </label>
                    <div class="search-box__clear" title="Clear"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a href="mailto:feedback@jetbrains.com">Send feedback</a></p>
                <p>&copy; 2000&ndash;2015 <a href="//www.jetbrains.com">JetBrains</a> s.r.o.<br>
                    All rights reserved.</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>ReSharper DevGuide</h3>
                
        <div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1">
            <option data-group="primary" value="default" selected>Default</option>
            <option data-group="primary" value="default_for_gnome">GNOME</option>
            <option data-group="primary" value="default_for_kde">KDE</option>
            <option data-group="primary" value="default_for_xwin">XWindow</option>
            <option data-group="primary" value="emacs">Emacs</option>
            <option data-group="primary" value="jbuilder">JBuilder</option>
            <option data-group="primary" value="visual_studio">Visual Studio</option>
            <option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option>
            <option data-group="primary" value="eclipse">Eclipse</option>
            <option data-group="secondary" value="mac_os_x_10.5_">OS X 10.5+</option>
            <option data-group="secondary" value="mac_os_x">OS X</option>
            <option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option></select>
        </div>
    
                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">

                    
                    <a name="how-to-define-a-zone-marker" class="elem-anchor"></a>
<h1>How to Define a Zone Marker<a href="#how-to-define-a-zone-marker" class="anchor-link"><span></span></a></h1>

<p>When creating an extension, it is important to get the right dependencies for a <code class="code highlight language-text">ZoneMarker</code>. Zones are used to be able to correctly load a product in the correct host. If the zone marker is incorrect, either the components in that namespace are not loaded and the extension is not available, or the extension is loaded when it shouldn’t be, and can cause errors in hosts as expected dependencies are not available.</p>

<p>ReSharper ships with diagnostics to help create accurate zone markers. <strong>Unfortunately</strong>, the diagnostics currently only work when all zones are defined in source (i.e. when you’re building the ReSharper solution). When building an extension that references the ReSharper Platform via assembly references (i.e. through the SDK), the diagnostics <strong>do not work</strong>. An updated version of the diagnostics is being worked on, and will be available as a separate, SDK tools extension shortly.</p>

<p>(The diagnostics check the zone of each component used in the project, e.g. type usages in component constructors. If the zone isn’t explicitly or implicitly required by the current zone marker, the type is highlighted, and a quick fix is available to add the required zone to the zone marker.)</p>

<p>Without diagnostics, it is very hard to work out what zones should be required. If you wish to use a component in your code, you need to discover which zone definitions it requires, and include those in your zone marker. This is done by finding the <code class="code highlight language-text">ZoneMarker</code> class, and requiring the same zone definitions. This can be done by hand, by finding zone marker classes that live in the same namespace or higher as those used in your <code class="code highlight language-text">using</code> statements, but this is tedious and prone to error.</p>

<p>A temporary solution is to use an <a href="Usage.html#empty-zone-marker"><span>empty zone marker</span></a>. This is usually reserved for infrastructure code that has no real dependencies and should always run. However, as calculating the proper requirements is currently prohibitive, it should be used (TEMPORARILY) for extensions.</p>

<aside class="warning">
  <p> This guidance is TEMPORARY! It is STRENUOUSLY RECOMMENDED to provide accurate and minimal zone information, in order that your extension is correctly loaded into the appropriate hosts, and does not cause issues for other hosts.</p>

  <p>Without proper dependency information, extensions CAN and WILL FAIL. E.g. an extension intended to extend ReSharper will cause problems when run in a host with only dotCover installed.</p>

  <p>This guidance will be updated when the appropriate tooling is available to help calculate the correct requirements for zone markers.</p>
</aside>


                    <div class="last-modified">
                        Last modified: 8 May 2015
                    </div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>


<script data-main="/resharper-devguide/app/js/main.build" data-baseurl="/resharper-devguide/" src="/resharper-devguide/app/js/vendor/requirejs/require.js"></script>

</body>
</html>

