


<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title> / ReSharper  DevGuide</title>
    <link rel="stylesheet" href="/resharper/devguide/app/css/styles.min.css">
<link  rel="stylesheet" href="/resharper/devguide/styles/styles.css"></head>
<body data-id="Plugins/Debugging">
<div class="wrapper">
    <section class="panel _nav">
        <header class="panel__header">
            <div class="container">
                <form class="search-box">
                    <label for="search-box__input" class="search-box__label">
                        <input type="text" class="search-box__input" id="search-box__input" placeholder="Search ReSharper  DevGuide">
                    </label>
                    <div class="search-box__clear" title="Clear"></div>
                </form>
            </div>
        </header>
        <nav class="panel__content">
            <div class="container _nav">
                <menu class="nav-tree"></menu>
            </div>
            <div class="container _footer panel__footer">
                <p><a href="mailto:feedback@jetbrains.com">Send feedback</a></p>
                <p>&copy; 2000&ndash;2015 <a href="//www.jetbrains.com">JetBrains</a> s.r.o.<br>
                    All rights reserved.</p>
            </div>
        </nav>
    </section>

    <main class="panel _main" role="main">
        <header class="panel__header">
            <div class="container">
                <h3>ReSharper DevGuide</h3>
                
        <div class="shortcuts-switcher"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1">
            <option data-group="primary" value="default" selected>Default</option>
            <option data-group="primary" value="default_for_gnome">GNOME</option>
            <option data-group="primary" value="default_for_kde">KDE</option>
            <option data-group="primary" value="default_for_xwin">XWindow</option>
            <option data-group="primary" value="emacs">Emacs</option>
            <option data-group="primary" value="jbuilder">JBuilder</option>
            <option data-group="primary" value="visual_studio">Visual Studio</option>
            <option data-group="primary" value="netbeans_6.5">NetBeans 6.5</option>
            <option data-group="primary" value="eclipse">Eclipse</option>
            <option data-group="secondary" value="mac_os_x_10.5_">OS X 10.5+</option>
            <option data-group="secondary" value="mac_os_x">OS X</option>
            <option data-group="secondary" value="eclipse_mac_os_x">OS X Eclipse</option></select>
        </div>
    
                <div class="panel-trigger"></div>
            </div>
        </header>
        <section class="panel__content">
            <div class="container">
                <article class="article" data-shortcut-switcher="false">

                    
                    <a name="running-and-debugging-an-extension" class="elem-anchor"></a>
<h1>Running and Debugging an Extension<a href="#running-and-debugging-an-extension" class="anchor-link"><span></span></a></h1>

<p>In order to manual test or debug your plugin, it must be installed into an instance of ReSharper. Currently, this is a manual step, details of which can be found in the <a href="../Extensions/Deployment/LocalInstallation.html"><span>Local Installation</span></a> guide (our intention is to make this easier in future versions of the SDK).</p>

<p>It is <strong>strongly recommended</strong> to install your plugin into an <a href="../Extensions/Deployment/LocalInstallation.html#install-to-an-experimental-instance"><span>experimental instance of Visual Studio</span></a>. This allows the assembly to be updated while compiling. If the plugin being tested/debugged is installed in the main instance of Visual Studio, all instances of VS need to be closed before the plugin can be updated. If the plugin is installed in a different instance of Visual Studio to the solution used to build the plugin, the plugin’s assemblies can be updated without restarting all instances of Visual Studio.</p>

<p>Once installed, the extension is loaded as part of ReSharper.</p>

<aside class="note">
  <p> Previous versions of ReSharper supported the <code class="code highlight language-text">/ReSharper.Plugin</code> flag to dynamically load the plugin at runtime. This is no longer supported, and the plugin must be installed in order to be loaded.</p>
</aside>

<a name="debugging" class="elem-anchor"></a>
<h2>Debugging<a href="#debugging" class="anchor-link"><span></span></a></h2>

<p>To debug an extension, simply attach a debugger to an instance of Visual Studio that will run the plugin.</p>

<ol>
  <li>Set the properties of the plugin project to start Visual Studio (e.g. <code class="code highlight language-text">C:\Program Files (x86)\Visual Studio 12.0\Common7\IDE\devenv.exe</code> for Visual Studio 2013). Also set the command line to run in the appropriate experimental instance, e.g. <code class="code highlight language-text">/rootSuffix Plugins</code> will run Visual Studio in the “Plugins” experimental instance.</li>
  <li>Start Visual Studio with <code class="code highlight language-text">F5</code> or <code class="code highlight language-text">Ctrl+F5</code>. Using <code class="code highlight language-text">F5</code> may have performance implications as .net disables optimisations for applications started under the debugger. With an application the size of Visual Studio, this can have a notable impact on performance. In this case, use <code class="code highlight language-text">Ctrl+F5</code> - Visual Studio will start quicker, you can attach (look for the <code class="code highlight language-text">devenv.exe</code> process) and debug as normal.</li>
</ol>

<p>If debugging a plugin installed into a standalone host such as dotPeek, simply change the startup executable to point to the host. The standalone applications are installed to <code class="code highlight language-text">%LOCALAPPDATA%\JetBrains\Installations\{HostFullIdentifier}</code>, where <code class="code highlight language-text">{HostFullIdentifier}</code> is the identifier of the host, such as <code class="code highlight language-text">dotPeek01</code>, <code class="code highlight language-text">dotTrace01</code>, etc. The <code class="code highlight language-text">/rootSuffix</code> argument is not needed.</p>

<a name="troubleshooting" class="elem-anchor"></a>
<h2>Troubleshooting<a href="#troubleshooting" class="anchor-link"><span></span></a></h2>

<p>If the extension does not load, or you cannot debug your plugin, there are several things to check:</p>

<ol>
  <li>Ensure the <a href="../Extensions/Packaging.html"><span>package is in the correct format</span></a>.
    <ol>
      <li>Ensure the package has a “.” in the name, or it won’t install correctly.</li>
      <li>Ensure the package depends on “Wave” “[1.0]” correctly. This value is case sensitive.</li>
    </ol>
  </li>
  <li>Ensure the <a href="../Extensions/Deployment/LocalInstallation.html#troubleshooting"><span>package installed correctly</span></a>. The extension may have installed, and be listed in the Extension Manager as installed, but if the files are copied to an incorrect location, the extension isn’t correctly installed.</li>
  <li>Ensure the plugin has a <a href="../Platform/Zones/HowTo.html"><span>Zone marker</span></a> defined in the project’s root namespace (e.g. if the project has code in the <code class="code highlight language-text">Foo.Bar</code> and <code class="code highlight language-text">Foo.Bar.Quux</code> namespaces, the zone marker should live in <code class="code highlight language-text">Foo.Bar.ZoneMarker</code>).</li>
  <li>Enable logging via the Logging options dialog page available in <a href="../Intro/InternalMode.html"><span>Internal Mode</span></a>, and check the logs for errors.</li>
  <li>Run in <a href="../Intro/InternalMode.html"><span>Internal Mode</span></a>, and look for reported exceptions (exceptions are suppressed when not in internal mode).</li>
  <li>Ensure the debugger has loaded the extension (look in the Debug » Windows » Modules tool window for the name of the plugin assembly).</li>
  <li>Ensure the debugger has loaded symbols for the extension (again, look in the Debug » Windows » Modules tool window for the name of the plugin, this row will include details for symbols). If the symbols are not loaded, you will not be able to set breakpoints for the plugin.
    <ol>
      <li>Copy the <code class="code highlight language-text">.pdb</code> files for the plugin to the installation folder (<code class="code highlight language-text">%LOCALAPPDATA%\JetBrains\Installations\{HostFullIdentifier}</code>).</li>
      <li>Add the symbol location to the Tools » Options » Debugging » Symbols page in Visual Studio.</li>
    </ol>
  </li>
</ol>



                    <div class="last-modified">
                        Last modified: 8 May 2015
                    </div>
                </article>

                <section class="disqus">
                    <div id="disqus_thread"></div>
                </section>
            </div>
        </section>
    </main>
</div>


<script data-main="/resharper/devguide/app/js/main.build" data-baseurl="/resharper/devguide/" src="/resharper/devguide/app/js/vendor/requirejs/require.js"></script>

</body>
</html>

